# 第四章：控制程式流程 - 迴圈 (while & for)

本章互動式執行環境: https://colab.research.google.com/drive/15wF7Yipprlkl1uB1vH7Qw6RbxXitjHb2?usp=sharing

## 迴圈 ~ 重複做某件事

我們時常需要重複做某件事情，例如
* 一直花錢買東西、買東西、買東西，直到錢不夠
* 把播放清單每首歌都聽過
* 從 1 + 2 + 3 ... 加到 1000

這種概念叫做「迴圈」，Python 有兩種指令可以達成：`while` 或 `for`


## `while`: 不斷檢查是否繼續做

`while` 概念是：先檢查要不要做事（迴圈條件），要的話就做（迴圈內容），做完以後再重新做檢查，不斷重複

```
while 條件判斷:
    # 縮排區塊
    做事
```

所以「一直花錢買東西，直到錢不夠」，會寫成這樣

```
while 錢還夠的話:
    買東西
```

例如下面這個程式，代表你原本有多少錢，只要錢還大於等於某個數目，就能不斷買東西

```python
stone = 20

while stone >= 5:
    print("我還有幾顆寶石: " + str(stone))
    stone = stone - 5
    print("我花五顆寶石買衣服！")

print("剩這些寶石了: " + str(stone))
```

```
我還有幾顆寶石: 20
我花五顆寶石買衣服！
我還有幾顆寶石: 15
我花五顆寶石買衣服！
我還有幾顆寶石: 10
我花五顆寶石買衣服！
我還有幾顆寶石: 5
我花五顆寶石買衣服！
剩這些寶石了: 0
```

`while` 後面接的是判斷式（加冒號），跟 `if` 一樣。

題外話，也跟 `if` 一樣，你可以寫 `while True:`，迴圈條件永遠是「真」，所以會不斷執行。後面教你怎麼跳出無窮迴圈。


## `for`: 對某一串東西依序做事

`for` 的概念是，對一串東西裡的每一個依序做某些事，例如播放清單、學生點名、吃過菜單上每一道菜等等。

最具代表性的是跟 list 搭配，直接看例子

```python
for song in ["周杰倫", "蔡依林", "Taylor Swift"]:
    print("播放 -> " + song)
```

會出現

```
播放 -> 周杰倫
播放 -> 蔡依林
播放 -> Taylor Swift
```

縮排裡的區塊是迴圈要做的事，`for ... in ...` 會把清單內每個東西依序給前面的變數，然後讓迴圈做事。所以上面的例子，因為清單有三個東西，所以迴圈會做三次，每一次的 `song` 的值都不一樣

注意，這迴圈只是看過 list 每一個元素，不會真的把它拿出來刪掉


## `range()`: 來數數！

如果你想從 1 數到 1000, 在程式碼裡面做一個 list 打字 `[1, 2, ...` 一直寫到 1000 很不實際，太長了！不過 python 提供 `range()`，可以幫你生成這些數字。有三種用法

* `range(5)` -> 0, 1, 2, 3, 4
* `range(1, 5)` -> 1, 2, 3, 4
* `range(1, 11, 2)` -> 1, 3, 5, 7, 9

如果只給一個數字 `range(終點)` 會從 **0** 開始數，而且不會數到「大於等於」終點。所以 `range(5)` 裡的數字都會「小於」5！總共會有 5 個數字。這個 list 編號很像

如果給兩個數字 `range(起點, 終點)` 會從起點數，終點是同樣道理。所以如果 `range(3,7)` 是 3, 4, 5, 6，數量有 7-3=4 個

如果給三個數字 `range(起點, 終點, 變量)`, 是表示每一次數數都會加「變量」上去；第三個數字是 2 的話，就是從 1, 1+2, 1+2+2, ... 一直數

起點、終點、變量都必須是整數

`range(1, 11, 2)` 跟 `range(1, 10, 2)` 都一樣是 1, 3, 5, 7, 數了 9 以後結束。想一想為什麼（提示：要比終點小）

所以從 1 加到 1000 的話，可以用 `range()` 數數，把它給 `for ... in ...` 一個個處理

```python
sum = 0
for number in range(1, 1001):
    sum = sum + number

print(sum)

# number 會從 1, 2, ... 一直下去
# 類似 for number in [1,2,3]，但不需要打很多字打到 1000
# 會是 1 加到 1000, 不是加到 1001 唷
```

數字連加也可以用迴圈算，道理是拿一個變數 `sum` 隨時記著目前的加總（所以一開始是零，因為還沒加任何東西），讓數字 `number` 從 1 數到 1000，重複做著「把數字跟前一次的加總加起來」的事情


## 看過清單每個元素

* `for` 的概念是：對一串東西裡的每一個依序做某些事
* `while` 概念是：先檢查要不要做事，要的話就做，做完以後再重新做檢查，不斷重複

雖然想法不同，但是在某些用途，可以用不同的寫法達到一樣效果

例如你想要「紅茶拿鐵」、「綠茶拿鐵」、「烏龍拿鐵」的話

```python
tea_list = ["紅茶", "綠茶", "烏龍"]

# 方法一：用 for .. in 清單，直接掃過一遍每種茶

for tea in tea_list:
    print(tea + "拿鐵")
```

```python
tea_list = ["紅茶", "綠茶", "烏龍"]

# 方法二：想成編號 0 號、編號 1 號、跟編號 2 號茶

amount = len(tea_list) # 3
for i in range(amount):
    # i 依序會是 0, 1, 2，剛好就是編號
    print(tea_list[i] + "拿鐵")
```

```python
tea_list = ["紅茶", "綠茶", "烏龍"]

# 方法三：類似方法二，用編號
# 但是想成「編號要小於 3」這個條件，符合這個條件才去從茶清單拿

i = 0  # 編號
while i < len(tea_list):
    print(tea_list[i] + "拿鐵")
    i = i + 1  # 編號要數下一個了
               # 如果編號不增加，永遠是零的話，
               # 就會一直選「紅茶」，變無窮迴圈
```

只是單純看過清單每個元素的話，方法一最好。但是你應該要「理解」為什麼另外兩個語法這樣寫也會正確


## 巢狀迴圈







## break 與 continue